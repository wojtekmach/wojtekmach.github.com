<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.19.1">
    <title>Code – Elixir v1.8.0-dev</title>
    <link rel="stylesheet" href="dist/html-2c36aea493b65986bbc5.css" />
      <link rel="canonical" href="https://hexdocs.pm/elixir/master/Code.html" />
    <script src="dist/sidebar_items-658844a919.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>
    <div class="main">
<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<button class="sidebar-button night-mode-toggle">
  <span class="icon-theme" aria-hidden="true"></span>
  <span class="sr-only">Toggle Theme</span>
</button>
<section class="sidebar">

  <a href="https://elixir-lang.org/docs.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
Elixir      </h1>
      <h2 class="sidebar-projectVersion">
        v1.8.0-dev
      </h2>
    </div>
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="Search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>

      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>

  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">Elixir v1.8.0-dev</small>
Code        
          <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
      </h1>


        <section id="moduledoc">
<p>Utilities for managing code compilation, code evaluation, and code loading.</p>
<p>This module complements Erlang’s <a href="http://www.erlang.org/doc/man/code.html"><code class="inline">:code</code> module</a>
to add behaviour which is specific to Elixir. Almost all of the functions in this module
have global side effects on the behaviour of Elixir.</p>
<h2 id="module-working-with-files" class="section-heading">
  <a href="#module-working-with-files" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Working with files
</h2>

<p>This module contains three functions for compiling and evaluating files.
Here is a summary of them and their behaviour:</p>
<ul>
<li><p><a href="#require_file/2"><code class="inline">require_file/2</code></a> - compiles a file and tracks its name. It does not
compile the file again if it has been previously required.</p>
</li>
<li><p><a href="#compile_file/2"><code class="inline">compile_file/2</code></a> - compiles a file without tracking its name. Compiles the
file multiple times when invoked multiple times.</p>
</li>
<li><p><a href="#eval_file/2"><code class="inline">eval_file/2</code></a> - evaluates the file contents without tracking its name. It
returns the result of the last expression in the file, instead of the modules
defined in it.</p>
</li>
</ul>
<p>In a nutshell, the first must be used when you want to keep track of the files
handled by the system, to avoid the same file from being compiled multiple
times. This is common in scripts.</p>
<p><a href="#compile_file/2"><code class="inline">compile_file/2</code></a> must be used when you are interested in the modules defined in a
file, without tracking. <a href="#eval_file/2"><code class="inline">eval_file/2</code></a> should be used when you are interested in
the result of evaluating the file rather than the modules it defines.</p>
        </section>

        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#append_path/1">append_path(path)</a>
  </div>
    <div class="summary-synopsis"><p>Appends a path to the end of the Erlang VM code path list</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#available_compiler_options/0">available_compiler_options()</a>
  </div>
    <div class="summary-synopsis"><p>Returns a list with the available compiler options</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compile_file/2">compile_file(file, relative_to \\ nil)</a>
  </div>
    <div class="summary-synopsis"><p>Compiles the given file</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compile_quoted/2">compile_quoted(quoted, file \\ &quot;nofile&quot;)</a>
  </div>
    <div class="summary-synopsis"><p>Compiles the quoted expression</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compile_string/2">compile_string(string, file \\ &quot;nofile&quot;)</a>
  </div>
    <div class="summary-synopsis"><p>Compiles the given string</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compiler_options/0">compiler_options()</a>
  </div>
    <div class="summary-synopsis"><p>Gets the compilation options from the code server</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compiler_options/1">compiler_options(opts)</a>
  </div>
    <div class="summary-synopsis"><p>Sets compilation options</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_path/1">delete_path(path)</a>
  </div>
    <div class="summary-synopsis"><p>Deletes a path from the Erlang VM code path list. This is the list of
directories the Erlang VM uses for finding module code</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#ensure_compiled/1">ensure_compiled(module)</a>
  </div>
    <div class="summary-synopsis"><p>Ensures the given module is compiled and loaded</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#ensure_compiled?/1">ensure_compiled?(module)</a>
  </div>
    <div class="summary-synopsis"><p>Ensures the given module is compiled and loaded</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#ensure_loaded/1">ensure_loaded(module)</a>
  </div>
    <div class="summary-synopsis"><p>Ensures the given module is loaded</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#ensure_loaded?/1">ensure_loaded?(module)</a>
  </div>
    <div class="summary-synopsis"><p>Ensures the given module is loaded</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#eval_file/2">eval_file(file, relative_to \\ nil)</a>
  </div>
    <div class="summary-synopsis"><p>Evals the given file</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#eval_quoted/3">eval_quoted(quoted, binding \\ [], opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Evaluates the quoted contents</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#eval_string/3">eval_string(string, binding \\ [], opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Evaluates the contents given by <code class="inline">string</code></p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#fetch_docs/1">fetch_docs(module_or_path)</a>
  </div>
    <div class="summary-synopsis"><p>Returns the docs for the given module or path to <code class="inline">.beam</code> file</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#format_file!/2">format_file!(file, opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Formats a file</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#format_string!/2">format_string!(string, opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Formats the given code <code class="inline">string</code></p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_docs/2">get_docs(module, kind)</a>
      <span class="deprecated" title="Code.get_docs/2 always returns nil as its outdated documentation is no longer stored on BEAM files. Use Code.fetch_docs/1 instead">deprecated</span>
  </div>
    <div class="summary-synopsis"><p>Deprecated function to retrieve old documentation format</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#prepend_path/1">prepend_path(path)</a>
  </div>
    <div class="summary-synopsis"><p>Prepends a path to the beginning of the Erlang VM code path list</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#purge_compiler_modules/0">purge_compiler_modules()</a>
  </div>
    <div class="summary-synopsis"><p>Purge compiler modules</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#require_file/2">require_file(file, relative_to \\ nil)</a>
  </div>
    <div class="summary-synopsis"><p>Requires the given <code class="inline">file</code></p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#required_files/0">required_files()</a>
  </div>
    <div class="summary-synopsis"><p>Lists all required files</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#string_to_quoted/2">string_to_quoted(string, opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Converts the given string to its quoted form</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#string_to_quoted!/2">string_to_quoted!(string, opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Converts the given string to its quoted form</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#unrequire_files/1">unrequire_files(files)</a>
  </div>
    <div class="summary-synopsis"><p>Removes files from the required files list</p>
</div>
</div>
  </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions          </h1>
          <div class="functions-list">
<div class="detail" id="append_path/1">
    <div class="detail-header">
    <a href="#append_path/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">append_path(path)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L106" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>append_path(<a href="Path.html#t:t/0">Path.t</a>()) :: true | {:error, :bad_directory}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Appends a path to the end of the Erlang VM code path list.</p>
<p>This is the list of directories the Erlang VM uses for
finding module code.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being appended.
If this path does not exist, an error is returned.</p>
<h2 id="append_path/1-examples" class="section-heading">
  <a href="#append_path/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">append_path</span><span class="p" data-group-id="6600355673-1">(</span><span class="s">&quot;.&quot;</span><span class="p" data-group-id="6600355673-1">)</span><span class="w">
</span><span class="c1">#=&gt; true</span><span class="w">

</span><span class="nc">Code</span><span class="o">.</span><span class="n">append_path</span><span class="p" data-group-id="6600355673-2">(</span><span class="s">&quot;/does_not_exist&quot;</span><span class="p" data-group-id="6600355673-2">)</span><span class="w">
</span><span class="c1">#=&gt; {:error, :bad_directory}</span></code></pre>
  </section>
</div>
<div class="detail" id="available_compiler_options/0">
    <div class="detail-header">
    <a href="#available_compiler_options/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">available_compiler_options()</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L802" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>available_compiler_options() :: [<a href="typespecs.html#basic-types">atom</a>()]</pre>
      </div>
  </div>
  <section class="docstring">
<p>Returns a list with the available compiler options.</p>
<p>See <a href="#compiler_options/1"><code class="inline">compiler_options/1</code></a> for more information.</p>
<h2 id="available_compiler_options/0-examples" class="section-heading">
  <a href="#available_compiler_options/0-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">available_compiler_options</span><span class="p" data-group-id="7814234835-1">(</span><span class="p" data-group-id="7814234835-1">)</span><span class="w">
</span><span class="p" data-group-id="7814234835-2">[</span><span class="ss">:docs</span><span class="p">,</span><span class="w"> </span><span class="ss">:debug_info</span><span class="p">,</span><span class="w"> </span><span class="ss">:ignore_module_conflict</span><span class="p">,</span><span class="w"> </span><span class="ss">:relative_paths</span><span class="p">,</span><span class="w"> </span><span class="ss">:warnings_as_errors</span><span class="p" data-group-id="7814234835-2">]</span></code></pre>
  </section>
</div>
<div class="detail" id="compile_file/2">
  
    <span id="compile_file/1"></span>
  <div class="detail-header">
    <a href="#compile_file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">compile_file(file, relative_to \\ nil)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L927" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>compile_file(<a href="typespecs.html#built-in-types">binary</a>(), nil | <a href="typespecs.html#built-in-types">binary</a>()) :: [{<a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#built-in-types">binary</a>()}]</pre>
      </div>
  </div>
  <section class="docstring">
<p>Compiles the given file.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.</p>
<p>Returns a list of tuples where the first element is the module name and
the second one is its bytecode (as a binary). Opposite to <a href="#require_file/2"><code class="inline">require_file/2</code></a>,
it does not track the filename of the compiled file.</p>
<p>If you would like to get the result of evaluating file rather than the
modules defined in it, see <a href="#eval_file/2"><code class="inline">eval_file/2</code></a>.</p>
<p>For compiling many files concurrently, see <a href="Kernel.ParallelCompiler.html#compile/2"><code class="inline">Kernel.ParallelCompiler.compile/2</code></a>.</p>
  </section>
</div>
<div class="detail" id="compile_quoted/2">
  
    <span id="compile_quoted/1"></span>
  <div class="detail-header">
    <a href="#compile_quoted/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">compile_quoted(quoted, file \\ &quot;nofile&quot;)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L908" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>compile_quoted(<a href="Macro.html#t:t/0">Macro.t</a>(), <a href="typespecs.html#built-in-types">binary</a>()) :: [{<a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#built-in-types">binary</a>()}]</pre>
      </div>
  </div>
  <section class="docstring">
<p>Compiles the quoted expression.</p>
<p>Returns a list of tuples where the first element is the module name and
the second one is its bytecode (as a binary). A <code class="inline">file</code> can be
given as second argument which will be used for reporting warnings
and errors.</p>
  </section>
</div>
<div class="detail" id="compile_string/2">
  
    <span id="compile_string/1"></span>
  <div class="detail-header">
    <a href="#compile_string/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">compile_string(string, file \\ &quot;nofile&quot;)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L895" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>compile_string(<a href="List.Chars.html#t:t/0">List.Chars.t</a>(), <a href="typespecs.html#built-in-types">binary</a>()) :: [{<a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#built-in-types">binary</a>()}]</pre>
      </div>
  </div>
  <section class="docstring">
<p>Compiles the given string.</p>
<p>Returns a list of tuples where the first element is the module name
and the second one is its bytecode (as a binary). A <code class="inline">file</code> can be
given as second argument which will be used for reporting warnings
and errors.</p>
<p><strong>Warning</strong>: <code class="inline">string</code> can be any Elixir code and code can be executed with
the same privileges as the Erlang VM: this means that such code could
compromise the machine (for example by executing system commands).
Don’t use <a href="#compile_string/2"><code class="inline">compile_string/2</code></a> with untrusted input (such as strings coming
from the network).</p>
  </section>
</div>
<div class="detail" id="compiler_options/0">
    <div class="detail-header">
    <a href="#compiler_options/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">compiler_options()</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L786" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>compiler_options() :: %{optional(<a href="typespecs.html#basic-types">atom</a>()) => <a href="typespecs.html#built-in-types">boolean</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Gets the compilation options from the code server.</p>
<p>Check <a href="#compiler_options/1"><code class="inline">compiler_options/1</code></a> for more information.</p>
<h2 id="compiler_options/0-examples" class="section-heading">
  <a href="#compiler_options/0-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">compiler_options</span><span class="p" data-group-id="1632961491-1">(</span><span class="p" data-group-id="1632961491-1">)</span><span class="w">
</span><span class="c1">#=&gt; %{debug_info: true, docs: true,</span><span class="w">
</span><span class="c1">#=&gt;   warnings_as_errors: false, ignore_module_conflict: false}</span></code></pre>
  </section>
</div>
<div class="detail" id="compiler_options/1">
    <div class="detail-header">
    <a href="#compiler_options/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">compiler_options(opts)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L861" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>compiler_options(<a href="Enumerable.html#t:t/0">Enumerable.t</a>()) :: %{optional(<a href="typespecs.html#basic-types">atom</a>()) => <a href="typespecs.html#built-in-types">boolean</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Sets compilation options.</p>
<p>These options are global since they are stored by Elixir’s Code Server.</p>
<p>Available options are:</p>
<ul>
<li><p><code class="inline">:docs</code> - when <code class="inline">true</code>, retain documentation in the compiled module.
Defaults to <code class="inline">true</code>.</p>
</li>
<li><p><code class="inline">:debug_info</code> - when <code class="inline">true</code>, retain debug information in the compiled
module. This allows a developer to reconstruct the original source
code. Defaults to <code class="inline">false</code>.</p>
</li>
<li><p><code class="inline">:ignore_module_conflict</code> - when <code class="inline">true</code>, override modules that were
already defined without raising errors. Defaults to <code class="inline">false</code>.</p>
</li>
<li><p><code class="inline">:relative_paths</code> - when <code class="inline">true</code>, use relative paths in quoted nodes,
warnings and errors generated by the compiler. Note disabling this option
won’t affect runtime warnings and errors. Defaults to <code class="inline">true</code>.</p>
</li>
<li><p><code class="inline">:warnings_as_errors</code> - causes compilation to fail when warnings are
generated. Defaults to <code class="inline">false</code>.</p>
</li>
</ul>
<p>It returns the new map of compiler options.</p>
<h2 id="compiler_options/1-examples" class="section-heading">
  <a href="#compiler_options/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">compiler_options</span><span class="p" data-group-id="7020020903-1">(</span><span class="ss">debug_info</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="7020020903-1">)</span><span class="w">
</span><span class="c1">#=&gt; %{debug_info: true, docs: true,</span><span class="w">
</span><span class="c1">#=&gt;   warnings_as_errors: false, ignore_module_conflict: false}</span></code></pre>
  </section>
</div>
<div class="detail" id="delete_path/1">
    <div class="detail-header">
    <a href="#delete_path/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">delete_path(path)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L151" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>delete_path(<a href="Path.html#t:t/0">Path.t</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Deletes a path from the Erlang VM code path list. This is the list of
directories the Erlang VM uses for finding module code.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being deleted. If the
path does not exist, this function returns <code class="inline">false</code>.</p>
<h2 id="delete_path/1-examples" class="section-heading">
  <a href="#delete_path/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">prepend_path</span><span class="p" data-group-id="4589957926-1">(</span><span class="s">&quot;.&quot;</span><span class="p" data-group-id="4589957926-1">)</span><span class="w">
</span><span class="nc">Code</span><span class="o">.</span><span class="n">delete_path</span><span class="p" data-group-id="4589957926-2">(</span><span class="s">&quot;.&quot;</span><span class="p" data-group-id="4589957926-2">)</span><span class="w">
</span><span class="c1">#=&gt; true</span><span class="w">

</span><span class="nc">Code</span><span class="o">.</span><span class="n">delete_path</span><span class="p" data-group-id="4589957926-3">(</span><span class="s">&quot;/does_not_exist&quot;</span><span class="p" data-group-id="4589957926-3">)</span><span class="w">
</span><span class="c1">#=&gt; false</span></code></pre>
  </section>
</div>
<div class="detail" id="ensure_compiled/1">
    <div class="detail-header">
    <a href="#ensure_compiled/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">ensure_compiled(module)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1022" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>ensure_compiled(<a href="typespecs.html#built-in-types">module</a>()) ::
  {:module, <a href="typespecs.html#built-in-types">module</a>()}
  | {:error, :embedded | :badfile | :nofile | :on_load_failure}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Ensures the given module is compiled and loaded.</p>
<p>If the module is already loaded, it works as no-op. If the module was
not loaded yet, it checks if it needs to be compiled first and then
tries to load it.</p>
<p>If it succeeds in loading the module, it returns <code class="inline">{:module, module}</code>.
If not, returns <code class="inline">{:error, reason}</code> with the error reason.</p>
<p>Check <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> for more information on module loading
and when to use <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> or <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>.</p>
  </section>
</div>
<div class="detail" id="ensure_compiled?/1">
    <div class="detail-header">
    <a href="#ensure_compiled?/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">ensure_compiled?(module)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1045" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>ensure_compiled?(<a href="typespecs.html#built-in-types">module</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Ensures the given module is compiled and loaded.</p>
<p>Similar to <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>, but returns <code class="inline">true</code> if the module
is already loaded or was successfully loaded and compiled.
Returns <code class="inline">false</code> otherwise.</p>
  </section>
</div>
<div class="detail" id="ensure_loaded/1">
    <div class="detail-header">
    <a href="#ensure_loaded/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">ensure_loaded(module)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L985" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>ensure_loaded(<a href="typespecs.html#built-in-types">module</a>()) ::
  {:module, <a href="typespecs.html#built-in-types">module</a>()}
  | {:error, :embedded | :badfile | :nofile | :on_load_failure}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Ensures the given module is loaded.</p>
<p>If the module is already loaded, this works as no-op. If the module
was not yet loaded, it tries to load it.</p>
<p>If it succeeds in loading the module, it returns <code class="inline">{:module, module}</code>.
If not, returns <code class="inline">{:error, reason}</code> with the error reason.</p>
<h2 id="ensure_loaded/1-code-loading-on-the-erlang-vm" class="section-heading">
  <a href="#ensure_loaded/1-code-loading-on-the-erlang-vm" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Code loading on the Erlang VM
</h2>

<p>Erlang has two modes to load code: interactive and embedded.</p>
<p>By default, the Erlang VM runs in interactive mode, where modules
are loaded as needed. In embedded mode the opposite happens, as all
modules need to be loaded upfront or explicitly.</p>
<p>Therefore, this function is used to check if a module is loaded
before using it and allows one to react accordingly. For example, the <a href="URI.html"><code class="inline">URI</code></a>
module uses this function to check if a specific parser exists for a given
URI scheme.</p>
<h2 id="ensure_loaded/1-ensure_compiled-1" class="section-heading">
  <a href="#ensure_loaded/1-ensure_compiled-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>
</h2>

<p>Elixir also contains an <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> function that is a
superset of <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a>.</p>
<p>Since Elixir’s compilation happens in parallel, in some situations
you may need to use a module that was not yet compiled, therefore
it can’t even be loaded.</p>
<p>When invoked, <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> halts the compilation of the caller
until the module given to <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> becomes available or
all files for the current project have been compiled. If compilation
finishes and the module is not available, an error tuple is returned.</p>
<p><a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> does not apply to dependencies, as dependencies
must be compiled upfront.</p>
<p>In most cases, <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> is enough. <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>
must be used in rare cases, usually involving macros that need to
invoke a module for callback information.</p>
<h2 id="ensure_loaded/1-examples" class="section-heading">
  <a href="#ensure_loaded/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">ensure_loaded</span><span class="p" data-group-id="8686194797-1">(</span><span class="nc">Atom</span><span class="p" data-group-id="8686194797-1">)</span><span class="w">
</span><span class="p" data-group-id="8686194797-2">{</span><span class="ss">:module</span><span class="p">,</span><span class="w"> </span><span class="nc">Atom</span><span class="p" data-group-id="8686194797-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">ensure_loaded</span><span class="p" data-group-id="8686194797-3">(</span><span class="nc">DoesNotExist</span><span class="p" data-group-id="8686194797-3">)</span><span class="w">
</span><span class="p" data-group-id="8686194797-4">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:nofile</span><span class="p" data-group-id="8686194797-4">}</span></code></pre>
  </section>
</div>
<div class="detail" id="ensure_loaded?/1">
    <div class="detail-header">
    <a href="#ensure_loaded?/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">ensure_loaded?(module)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1003" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>ensure_loaded?(<a href="typespecs.html#built-in-types">module</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Ensures the given module is loaded.</p>
<p>Similar to <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a>, but returns <code class="inline">true</code> if the module
is already loaded or was successfully loaded. Returns <code class="inline">false</code>
otherwise.</p>
<h2 id="ensure_loaded?/1-examples" class="section-heading">
  <a href="#ensure_loaded?/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">ensure_loaded?</span><span class="p" data-group-id="7597390457-1">(</span><span class="nc">Atom</span><span class="p" data-group-id="7597390457-1">)</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</div>
<div class="detail" id="eval_file/2">
  
    <span id="eval_file/1"></span>
  <div class="detail-header">
    <a href="#eval_file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">eval_file(file, relative_to \\ nil)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L705" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>eval_file(<a href="typespecs.html#built-in-types">binary</a>(), nil | <a href="typespecs.html#built-in-types">binary</a>()) :: {<a href="typespecs.html#built-in-types">term</a>(), binding :: <a href="typespecs.html#built-in-types">list</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Evals the given file.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.</p>
<p>While <a href="#require_file/2"><code class="inline">require_file/2</code></a> and <a href="#compile_file/2"><code class="inline">compile_file/2</code></a> return the loaded modules and their
bytecode, <a href="#eval_file/2"><code class="inline">eval_file/2</code></a> simply evaluates the file contents and returns the
evaluation result and its bindings (exactly the same return value as <a href="#eval_string/3"><code class="inline">eval_string/3</code></a>).</p>
  </section>
</div>
<div class="detail" id="eval_quoted/3">
  
    <span id="eval_quoted/1"></span>

    <span id="eval_quoted/2"></span>
  <div class="detail-header">
    <a href="#eval_quoted/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">eval_quoted(quoted, binding \\ [], opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L581" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>eval_quoted(<a href="Macro.html#t:t/0">Macro.t</a>(), <a href="typespecs.html#built-in-types">list</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>() | <a href="typespecs.html#built-in-types">keyword</a>()) ::
  {<a href="typespecs.html#built-in-types">term</a>(), binding :: <a href="typespecs.html#built-in-types">list</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Evaluates the quoted contents.</p>
<p><strong>Warning</strong>: Calling this function inside a macro is considered bad
practice as it will attempt to evaluate runtime values at compile time.
Macro arguments are typically transformed by unquoting them into the
returned quoted expressions (instead of evaluated).</p>
<p>See <a href="#eval_string/3"><code class="inline">eval_string/3</code></a> for a description of bindings and options.</p>
<h2 id="eval_quoted/3-examples" class="section-heading">
  <a href="#eval_quoted/3-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="n">contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="p" data-group-id="0389735085-1">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">var!</span><span class="p" data-group-id="0389735085-2">(</span><span class="n">a</span><span class="p" data-group-id="0389735085-2">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">var!</span><span class="p" data-group-id="0389735085-3">(</span><span class="n">b</span><span class="p" data-group-id="0389735085-3">)</span><span class="p" data-group-id="0389735085-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="0389735085-4">(</span><span class="n">contents</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0389735085-5">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0389735085-5">]</span><span class="p">,</span><span class="w"> </span><span class="ss">file</span><span class="p">:</span><span class="w"> </span><span class="bp">__ENV__</span><span class="o">.</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="bp">__ENV__</span><span class="o">.</span><span class="n">line</span><span class="p" data-group-id="0389735085-4">)</span><span class="w">
</span><span class="p" data-group-id="0389735085-6">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0389735085-7">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0389735085-7">]</span><span class="p" data-group-id="0389735085-6">}</span></code></pre>
<p>For convenience, you can pass <a href="Kernel.SpecialForms.html#__ENV__/0"><code class="inline">__ENV__/0</code></a> as the <code class="inline">opts</code> argument and
all options will be automatically extracted from the current environment:</p>
<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="n">contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="p" data-group-id="8539596611-1">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">var!</span><span class="p" data-group-id="8539596611-2">(</span><span class="n">a</span><span class="p" data-group-id="8539596611-2">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">var!</span><span class="p" data-group-id="8539596611-3">(</span><span class="n">b</span><span class="p" data-group-id="8539596611-3">)</span><span class="p" data-group-id="8539596611-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="8539596611-4">(</span><span class="n">contents</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8539596611-5">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8539596611-5">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__ENV__</span><span class="p" data-group-id="8539596611-4">)</span><span class="w">
</span><span class="p" data-group-id="8539596611-6">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8539596611-7">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8539596611-7">]</span><span class="p" data-group-id="8539596611-6">}</span></code></pre>
  </section>
</div>
<div class="detail" id="eval_string/3">
  
    <span id="eval_string/1"></span>

    <span id="eval_string/2"></span>
  <div class="detail-header">
    <a href="#eval_string/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">eval_string(string, binding \\ [], opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L223" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>eval_string(<a href="List.Chars.html#t:t/0">List.Chars.t</a>(), <a href="typespecs.html#built-in-types">list</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>() | <a href="typespecs.html#built-in-types">keyword</a>()) ::
  {<a href="typespecs.html#built-in-types">term</a>(), binding :: <a href="typespecs.html#built-in-types">list</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Evaluates the contents given by <code class="inline">string</code>.</p>
<p>The <code class="inline">binding</code> argument is a keyword list of variable bindings.
The <code class="inline">opts</code> argument is a keyword list of environment options.</p>
<p><strong>Warning</strong>: <code class="inline">string</code> can be any Elixir code and will be executed with
the same privileges as the Erlang VM: this means that such code could
compromise the machine (for example by executing system commands).
Don’t use <a href="#eval_string/3"><code class="inline">eval_string/3</code></a> with untrusted input (such as strings coming
from the network).</p>
<h2 id="eval_string/3-options" class="section-heading">
  <a href="#eval_string/3-options" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Options
</h2>

<p>Options can be:</p>
<ul>
<li><p><code class="inline">:file</code> - the file to be considered in the evaluation</p>
</li>
<li><p><code class="inline">:line</code> - the line on which the script starts</p>
</li>
</ul>
<p>Additionally, the following scope values can be configured:</p>
<ul>
<li><p><code class="inline">:aliases</code> - a list of tuples with the alias and its target</p>
</li>
<li><p><code class="inline">:requires</code> - a list of modules required</p>
</li>
<li><p><code class="inline">:functions</code> - a list of tuples where the first element is a module
and the second a list of imported function names and arity; the list
of function names and arity must be sorted</p>
</li>
<li><p><code class="inline">:macros</code> - a list of tuples where the first element is a module
and the second a list of imported macro names and arity; the list
of function names and arity must be sorted</p>
</li>
</ul>
<p>Notice that setting any of the values above overrides Elixir’s default
values. For example, setting <code class="inline">:requires</code> to <code class="inline">[]</code> will no longer
automatically require the <a href="Kernel.html"><code class="inline">Kernel</code></a> module. In the same way setting
<code class="inline">:macros</code> will no longer auto-import <a href="Kernel.html"><code class="inline">Kernel</code></a> macros like <a href="Kernel.html#if/2"><code class="inline">Kernel.if/2</code></a>,
<a href="Kernel.SpecialForms.html#case/2"><code class="inline">Kernel.SpecialForms.case/2</code></a>, and so on.</p>
<p>Returns a tuple of the form <code class="inline">{value, binding}</code>,
where <code class="inline">value</code> is the value returned from evaluating <code class="inline">string</code>.
If an error occurs while evaluating <code class="inline">string</code> an exception will be raised.</p>
<p><code class="inline">binding</code> is a keyword list with the value of all variable bindings
after evaluating <code class="inline">string</code>. The binding key is usually an atom, but it
may be a tuple for variables defined in a different context.</p>
<h2 id="eval_string/3-examples" class="section-heading">
  <a href="#eval_string/3-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8382043440-1">(</span><span class="s">&quot;a + b&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-2">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8382043440-2">]</span><span class="p">,</span><span class="w"> </span><span class="ss">file</span><span class="p">:</span><span class="w"> </span><span class="bp">__ENV__</span><span class="o">.</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="bp">__ENV__</span><span class="o">.</span><span class="n">line</span><span class="p" data-group-id="8382043440-1">)</span><span class="w">
</span><span class="p" data-group-id="8382043440-3">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-4">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8382043440-4">]</span><span class="p" data-group-id="8382043440-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8382043440-5">(</span><span class="s">&quot;c = a + b&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-6">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8382043440-6">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__ENV__</span><span class="p" data-group-id="8382043440-5">)</span><span class="w">
</span><span class="p" data-group-id="8382043440-7">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-8">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">c</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="8382043440-8">]</span><span class="p" data-group-id="8382043440-7">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8382043440-9">(</span><span class="s">&quot;a = a + b&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-10">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8382043440-10">]</span><span class="p" data-group-id="8382043440-9">)</span><span class="w">
</span><span class="p" data-group-id="8382043440-11">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382043440-12">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8382043440-12">]</span><span class="p" data-group-id="8382043440-11">}</span></code></pre>
<p>For convenience, you can pass <a href="Kernel.SpecialForms.html#__ENV__/0"><code class="inline">__ENV__/0</code></a> as the <code class="inline">opts</code> argument and
all imports, requires and aliases defined in the current environment
will be automatically carried over:</p>
<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8823459619-1">(</span><span class="s">&quot;a + b&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8823459619-2">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8823459619-2">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__ENV__</span><span class="p" data-group-id="8823459619-1">)</span><span class="w">
</span><span class="p" data-group-id="8823459619-3">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8823459619-4">[</span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8823459619-4">]</span><span class="p" data-group-id="8823459619-3">}</span></code></pre>
  </section>
</div>
<div class="detail" id="fetch_docs/1">
    <div class="detail-header">
    <a href="#fetch_docs/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">fetch_docs(module_or_path)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1087" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.7.0)</span>
    
      <div class="specs">
          <pre>fetch_docs(<a href="typespecs.html#built-in-types">module</a>() | <a href="String.html#t:t/0">String.t</a>()) ::
  {:docs_v1, annotation, beam_language, format, module_doc :: doc_content,
   metadata, docs :: [doc_element]}
  | {:error, :module_not_found | :chunk_not_found | {:invalid_chunk, <a href="typespecs.html#built-in-types">binary</a>()}}
when annotation: <a href="http://www.erlang.org/doc/man/erl_anno.html#type-anno">:erl_anno.anno</a>(),
     beam_language: :elixir | :erlang | :lfe | :alpaca | <a href="typespecs.html#basic-types">atom</a>(),
     doc_content: %{optional(<a href="typespecs.html#built-in-types">binary</a>()) => <a href="typespecs.html#built-in-types">binary</a>()} | :none | :hidden,
     doc_element:
       {{kind :: <a href="typespecs.html#basic-types">atom</a>(), function_name :: <a href="typespecs.html#basic-types">atom</a>(), <a href="typespecs.html#built-in-types">arity</a>()}, annotation,
        signature, doc_content, metadata},
     format: <a href="typespecs.html#built-in-types">binary</a>(),
     signature: [<a href="typespecs.html#built-in-types">binary</a>()],
     metadata: <a href="typespecs.html#basic-types">map</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Returns the docs for the given module or path to <code class="inline">.beam</code> file.</p>
<p>When given a module name, it finds its BEAM code and reads the docs from it.</p>
<p>When given a path to a <code class="inline">.beam</code> file, it will load the docs directly from that
file.</p>
<p>It returns the term stored in the documentation chunk in the format defined by
<a href="http://erlang.org/eep/eeps/eep-0048.html">EEP 48</a> or <code class="inline">{:error, reason}</code> if
the chunk is not available.</p>
<h2 id="fetch_docs/1-examples" class="section-heading">
  <a href="#fetch_docs/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="c1"># Module documentation of an existing module</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="6342977141-1">{</span><span class="ss">:docs_v1</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="ss">:elixir</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6342977141-2">%{</span><span class="s">&quot;en&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">module_doc</span><span class="p" data-group-id="6342977141-2">}</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="6342977141-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Code</span><span class="o">.</span><span class="n">fetch_docs</span><span class="p" data-group-id="6342977141-3">(</span><span class="nc">Atom</span><span class="p" data-group-id="6342977141-3">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">module_doc</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">split</span><span class="p" data-group-id="6342977141-4">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p" data-group-id="6342977141-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Enum</span><span class="o">.</span><span class="n">at</span><span class="p" data-group-id="6342977141-5">(</span><span class="mi">0</span><span class="p" data-group-id="6342977141-5">)</span><span class="w">
</span><span class="s">&quot;Convenience functions for working with atoms.&quot;</span><span class="w">

</span><span class="c1"># A module that doesn&#39;t exist</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">fetch_docs</span><span class="p" data-group-id="6342977141-6">(</span><span class="nc">ModuleNotGood</span><span class="p" data-group-id="6342977141-6">)</span><span class="w">
</span><span class="p" data-group-id="6342977141-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:module_not_found</span><span class="p" data-group-id="6342977141-7">}</span></code></pre>
  </section>
</div>
<div class="detail" id="format_file!/2">
  
    <span id="format_file!/1"></span>
  <div class="detail-header">
    <a href="#format_file!/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">format_file!(file, opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L550" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.6.0)</span>
    
      <div class="specs">
          <pre>format_file!(<a href="typespecs.html#built-in-types">binary</a>(), <a href="typespecs.html#built-in-types">keyword</a>()) :: <a href="typespecs.html#built-in-types">iodata</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Formats a file.</p>
<p>See <a href="#format_string!/2"><code class="inline">format_string!/2</code></a> for more information on code formatting and
available options.</p>
  </section>
</div>
<div class="detail" id="format_string!/2">
  
    <span id="format_string!/1"></span>
  <div class="detail-header">
    <a href="#format_string!/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">format_string!(string, opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L536" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.6.0)</span>
    
      <div class="specs">
          <pre>format_string!(<a href="typespecs.html#built-in-types">binary</a>(), <a href="typespecs.html#built-in-types">keyword</a>()) :: <a href="typespecs.html#built-in-types">iodata</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Formats the given code <code class="inline">string</code>.</p>
<p>The formatter receives a string representing Elixir code and
returns iodata representing the formatted code according to
pre-defined rules.</p>
<h2 id="format_string!/2-options" class="section-heading">
  <a href="#format_string!/2-options" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Options
</h2>

<ul>
<li><p><code class="inline">:file</code> - the file which contains the string, used for error
reporting</p>
</li>
<li><p><code class="inline">:line</code> - the line the string starts, used for error reporting</p>
</li>
<li><p><code class="inline">:line_length</code> - the line length to aim for when formatting
the document. Defaults to 98. Note this value is used as
reference but it is not enforced by the formatter as sometimes
user intervention is required. See “Running the formatter”
section</p>
</li>
<li><p><code class="inline">:locals_without_parens</code> - a keyword list of name and arity
pairs that should be kept without parens whenever possible.
The arity may be the atom <code class="inline">:*</code>, which implies all arities of
that name. The formatter already includes a list of functions
and this option augments this list.</p>
</li>
<li><p><code class="inline">:rename_deprecated_at</code> - rename all known deprecated functions
at the given version to their non-deprecated equivalent. It
expects a valid <a href="Version.html"><code class="inline">Version</code></a> which is usually the minimum Elixir
version supported by the project.</p>
</li>
</ul>
<h2 id="format_string!/2-design-principles" class="section-heading">
  <a href="#format_string!/2-design-principles" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Design principles
</h2>

<p>The formatter was designed under three principles.</p>
<p>First, the formatter never changes the semantics of the code by
default. This means the input AST and the output AST are equivalent.
Optional behaviour, such as <code class="inline">:rename_deprecated_at</code>, is allowed to
break this guarantee.</p>
<p>The second principle is to provide as little configuration as possible.
This eases the formatter adoption by removing contention points while
making sure a single style is followed consistently by the community as
a whole.</p>
<p>The formatter does not hard code names. The formatter will not behave
specially because a function is named <code class="inline">defmodule</code>, <code class="inline">def</code>, etc. This
principle mirrors Elixir’s goal of being an extensible language where
developers can extend the language with new constructs as if they were
part of the language. When it is absolutely necessary to change behaviour
based on the name, this behaviour should be configurable, such as the
<code class="inline">:locals_without_parens</code> option.</p>
<h2 id="format_string!/2-running-the-formatter" class="section-heading">
  <a href="#format_string!/2-running-the-formatter" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Running the formatter
</h2>

<p>The formatter attempts to fit the most it can on a single line and
introduces line breaks wherever possible when it cannot.</p>
<p>In some cases, this may lead to undesired formatting. Therefore, <strong>some
code generated by the formatter may not be aesthetically pleasing and
may require explicit intervention from the developer</strong>. That’s why we
do not recommend to run the formatter blindly in an existing codebase.
Instead you should format and sanity check each formatted file.</p>
<p>Let’s see some examples. The code below:</p>
<pre><code class="nohighlight makeup elixir"><span class="s">&quot;this is a very long string ... </span><span class="si" data-group-id="7790154452-1">#{</span><span class="n">inspect</span><span class="p" data-group-id="7790154452-2">(</span><span class="n">some_value</span><span class="p" data-group-id="7790154452-2">)</span><span class="si" data-group-id="7790154452-1">}</span><span class="s">&quot;</span></code></pre>
<p>may be formatted as:</p>
<pre><code class="nohighlight makeup elixir"><span class="s">&quot;this is a very long string ... </span><span class="si" data-group-id="5077711429-1">#{</span><span class="w">
  </span><span class="n">inspect</span><span class="p" data-group-id="5077711429-2">(</span><span class="n">some_value</span><span class="p" data-group-id="5077711429-2">)</span><span class="w">
</span><span class="si" data-group-id="5077711429-1">}</span><span class="s">&quot;</span></code></pre>
<p>This happens because the only place the formatter can introduce a
new line without changing the code semantics is in the interpolation.
In those scenarios, we recommend developers to directly adjust the
code. Here we can use the binary concatenation operator <a href="Kernel.html#%253C%253E/2"><code class="inline">&lt;&gt;/2</code></a>:</p>
<pre><code class="nohighlight makeup elixir"><span class="s">&quot;this is a very long string &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w">
  </span><span class="s">&quot;... </span><span class="si" data-group-id="1070100843-1">#{</span><span class="n">inspect</span><span class="p" data-group-id="1070100843-2">(</span><span class="n">some_value</span><span class="p" data-group-id="1070100843-2">)</span><span class="si" data-group-id="1070100843-1">}</span><span class="s">&quot;</span></code></pre>
<p>The string concatenation makes the code fit on a single line and also
gives more options to the formatter.</p>
<p>A similar example is when the formatter breaks a function definition
over multiple clauses:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p" data-group-id="7341834691-1">(</span><span class="w">
  </span><span class="p" data-group-id="7341834691-2">%</span><span class="nc" data-group-id="7341834691-2">User</span><span class="p" data-group-id="7341834691-2">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="7341834691-2">}</span><span class="p">,</span><span class="w">
  </span><span class="n">arg1</span><span class="p">,</span><span class="w">
  </span><span class="n">arg2</span><span class="w">
</span><span class="p" data-group-id="7341834691-1">)</span><span class="w"> </span><span class="k" data-group-id="7341834691-3">do</span><span class="w">
  </span><span class="n">...</span><span class="w">
</span><span class="k" data-group-id="7341834691-3">end</span></code></pre>
<p>While the code above is completely valid, you may prefer to match on
the struct variables inside the function body in order to keep the
definition on a single line:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p" data-group-id="7595358079-1">(</span><span class="p" data-group-id="7595358079-2">%</span><span class="nc" data-group-id="7595358079-2">User</span><span class="p" data-group-id="7595358079-2">{</span><span class="p" data-group-id="7595358079-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p" data-group-id="7595358079-1">)</span><span class="w"> </span><span class="k" data-group-id="7595358079-3">do</span><span class="w">
  </span><span class="p" data-group-id="7595358079-4">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="7595358079-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="w">
  </span><span class="n">...</span><span class="w">
</span><span class="k" data-group-id="7595358079-3">end</span></code></pre>
<p>In some situations, you can use the fact the formatter does not generate
elegant code as a hint for refactoring. Take this code:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">def</span><span class="w"> </span><span class="nf">board?</span><span class="p" data-group-id="9547873677-1">(</span><span class="n">board_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9547873677-2">%</span><span class="nc" data-group-id="9547873677-2">User</span><span class="p" data-group-id="9547873677-2">{</span><span class="p" data-group-id="9547873677-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">available_permissions</span><span class="p">,</span><span class="w"> </span><span class="n">required_permissions</span><span class="p" data-group-id="9547873677-1">)</span><span class="w"> </span><span class="k" data-group-id="9547873677-3">do</span><span class="w">
  </span><span class="nc">Tracker.OrganizationMembers</span><span class="o">.</span><span class="n">user_in_organization?</span><span class="p" data-group-id="9547873677-4">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">board</span><span class="o">.</span><span class="n">organization_id</span><span class="p" data-group-id="9547873677-4">)</span><span class="w"> </span><span class="ow">and</span><span class="w">
    </span><span class="n">required_permissions</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Enum</span><span class="o">.</span><span class="n">to_list</span><span class="p" data-group-id="9547873677-5">(</span><span class="nc">MapSet</span><span class="o">.</span><span class="n">intersection</span><span class="p" data-group-id="9547873677-6">(</span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="9547873677-7">(</span><span class="n">required_permissions</span><span class="p" data-group-id="9547873677-7">)</span><span class="p">,</span><span class="w"> </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="9547873677-8">(</span><span class="n">available_permissions</span><span class="p" data-group-id="9547873677-8">)</span><span class="p" data-group-id="9547873677-6">)</span><span class="p" data-group-id="9547873677-5">)</span><span class="w">
</span><span class="k" data-group-id="9547873677-3">end</span></code></pre>
<p>The code above has very long lines and running the formatter is not going
to address this issue. In fact, the formatter may make it more obvious that
you have complex expressions:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">def</span><span class="w"> </span><span class="nf">board?</span><span class="p" data-group-id="1321253451-1">(</span><span class="n">board_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1321253451-2">%</span><span class="nc" data-group-id="1321253451-2">User</span><span class="p" data-group-id="1321253451-2">{</span><span class="p" data-group-id="1321253451-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">available_permissions</span><span class="p">,</span><span class="w"> </span><span class="n">required_permissions</span><span class="p" data-group-id="1321253451-1">)</span><span class="w"> </span><span class="k" data-group-id="1321253451-3">do</span><span class="w">
  </span><span class="nc">Tracker.OrganizationMembers</span><span class="o">.</span><span class="n">user_in_organization?</span><span class="p" data-group-id="1321253451-4">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">board</span><span class="o">.</span><span class="n">organization_id</span><span class="p" data-group-id="1321253451-4">)</span><span class="w"> </span><span class="ow">and</span><span class="w">
    </span><span class="n">required_permissions</span><span class="w"> </span><span class="o">==</span><span class="w">
      </span><span class="nc">Enum</span><span class="o">.</span><span class="n">to_list</span><span class="p" data-group-id="1321253451-5">(</span><span class="w">
        </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">intersection</span><span class="p" data-group-id="1321253451-6">(</span><span class="w">
          </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1321253451-7">(</span><span class="n">required_permissions</span><span class="p" data-group-id="1321253451-7">)</span><span class="p">,</span><span class="w">
          </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1321253451-8">(</span><span class="n">available_permissions</span><span class="p" data-group-id="1321253451-8">)</span><span class="w">
        </span><span class="p" data-group-id="1321253451-6">)</span><span class="w">
      </span><span class="p" data-group-id="1321253451-5">)</span><span class="w">
</span><span class="k" data-group-id="1321253451-3">end</span></code></pre>
<p>Take such cases as a suggestion that your code should be refactored:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">def</span><span class="w"> </span><span class="nf">board?</span><span class="p" data-group-id="1842837902-1">(</span><span class="n">board_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1842837902-2">%</span><span class="nc" data-group-id="1842837902-2">User</span><span class="p" data-group-id="1842837902-2">{</span><span class="p" data-group-id="1842837902-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">available_permissions</span><span class="p">,</span><span class="w"> </span><span class="n">required_permissions</span><span class="p" data-group-id="1842837902-1">)</span><span class="w"> </span><span class="k" data-group-id="1842837902-3">do</span><span class="w">
  </span><span class="nc">Tracker.OrganizationMembers</span><span class="o">.</span><span class="n">user_in_organization?</span><span class="p" data-group-id="1842837902-4">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">board</span><span class="o">.</span><span class="n">organization_id</span><span class="p" data-group-id="1842837902-4">)</span><span class="w"> </span><span class="ow">and</span><span class="w">
    </span><span class="n">matching_permissions?</span><span class="p" data-group-id="1842837902-5">(</span><span class="n">required_permissions</span><span class="p">,</span><span class="w"> </span><span class="n">available_permissions</span><span class="p" data-group-id="1842837902-5">)</span><span class="w">
</span><span class="k" data-group-id="1842837902-3">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">matching_permissions?</span><span class="p" data-group-id="1842837902-6">(</span><span class="n">required_permissions</span><span class="p">,</span><span class="w"> </span><span class="n">available_permissions</span><span class="p" data-group-id="1842837902-6">)</span><span class="w"> </span><span class="k" data-group-id="1842837902-7">do</span><span class="w">
  </span><span class="n">intersection</span><span class="w"> </span><span class="o">=</span><span class="w">
    </span><span class="n">required_permissions</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1842837902-8">(</span><span class="p" data-group-id="1842837902-8">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">MapSet</span><span class="o">.</span><span class="n">intersection</span><span class="p" data-group-id="1842837902-9">(</span><span class="nc">MapSet</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1842837902-10">(</span><span class="n">available_permissions</span><span class="p" data-group-id="1842837902-10">)</span><span class="p" data-group-id="1842837902-9">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Enum</span><span class="o">.</span><span class="n">to_list</span><span class="p" data-group-id="1842837902-11">(</span><span class="p" data-group-id="1842837902-11">)</span><span class="w">

  </span><span class="n">required_permissions</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">intersection</span><span class="w">
</span><span class="k" data-group-id="1842837902-7">end</span></code></pre>
<p>To sum it up: since the formatter cannot change the semantics of your
code, sometimes it is necessary to tweak or refactor the code to get
optimal formatting. To help better understand how to control the formatter,
we describe in the next sections the cases where the formatter keeps the
user encoding and how to control multiline expressions.</p>
<h2 id="format_string!/2-keeping-user-s-formatting" class="section-heading">
  <a href="#format_string!/2-keeping-user-s-formatting" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Keeping user’s formatting
</h2>

<p>The formatter respects the input format in some cases. Those are
listed below:</p>
<ul>
<li><p>Insignificant digits in numbers are kept as is. The formatter
however always inserts underscores for decimal numbers with more
than 5 digits and converts hexadecimal digits to uppercase</p>
</li>
<li><p>Strings, charlists, atoms and sigils are kept as is. No character
is automatically escaped or unescaped. The choice of delimiter is
also respected from the input</p>
</li>
<li><p>Newlines inside blocks are kept as in the input except for:
1) expressions that take multiple lines will always have an empty
line before and after and 2) empty lines are always squeezed
together into a single empty line</p>
</li>
<li><p>The choice between <code class="inline">:do</code> keyword and <code class="inline">do/end</code> blocks is left
to the user</p>
</li>
<li><p>Lists, tuples, bitstrings, maps, structs and function calls will be
broken into multiple lines if they are followed by a newline in the
opening bracket and preceded by a new line in the closing bracket</p>
</li>
<li><p>Pipeline operators, like <code class="inline">|&gt;</code> and others with the same precedence,
will span multiple lines if they spanned multiple lines in the input</p>
</li>
</ul>
<p>The behaviours above are not guaranteed. We may remove or add new
rules in the future. The goal of documenting them is to provide better
understanding on what to expect from the formatter.</p>
<h3 id="format_string!/2-multi-line-lists-maps-tuples-etc" class="section-heading">
  <a href="#format_string!/2-multi-line-lists-maps-tuples-etc" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Multi-line lists, maps, tuples, etc.
</h3>

<p>You can force lists, tuples, bitstrings, maps, structs and function
calls to have one entry per line by adding a newline after the opening
bracket and a new line before the closing bracket lines. For example:</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="3477178428-1">[</span><span class="w">
  </span><span class="n">foo</span><span class="p">,</span><span class="w">
  </span><span class="n">bar</span><span class="w">
</span><span class="p" data-group-id="3477178428-1">]</span></code></pre>
<p>If there are no newlines around the brackets, then the formatter will
try to fit everything on a single line, such that the snippet below</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="1382545445-1">[</span><span class="n">foo</span><span class="p">,</span><span class="w">
 </span><span class="n">bar</span><span class="p" data-group-id="1382545445-1">]</span></code></pre>
<p>will be formatted as</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="2392311559-1">[</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p" data-group-id="2392311559-1">]</span></code></pre>
<p>You can also force function calls and keywords to be rendered on multiple
lines by having each entry on its own line:</p>
<pre><code class="nohighlight makeup elixir"><span class="kd">defstruct</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="no">nil</span><span class="p">,</span><span class="w">
          </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span></code></pre>
<p>The code above will be kept with one keyword entry per line by the
formatter. To avoid that, just squash everything into a single line.</p>
<h3 id="format_string!/2-parens-and-no-parens-in-function-calls" class="section-heading">
  <a href="#format_string!/2-parens-and-no-parens-in-function-calls" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Parens and no parens in function calls
</h3>

<p>Elixir has two syntaxes for function calls. With parens and no parens.
By default, Elixir will add parens to all calls except for:</p>
<ol>
<li>calls that have do/end blocks
</li>
<li>local calls without parens where the name and arity of the local
 call is also listed under <code class="inline">:locals_without_parens</code> (except for
 calls with arity 0, where the compiler always require parens)
</li>
</ol>
<p>The choice of parens and no parens also affects indentation. When a
function call with parens doesn’t fit on the same line, the formatter
introduces a newline around parens and indents the arguments with two
spaces:</p>
<pre><code class="nohighlight makeup elixir"><span class="n">some_call</span><span class="p" data-group-id="0173530564-1">(</span><span class="w">
  </span><span class="n">arg1</span><span class="p">,</span><span class="w">
  </span><span class="n">arg2</span><span class="p">,</span><span class="w">
  </span><span class="n">arg3</span><span class="w">
</span><span class="p" data-group-id="0173530564-1">)</span></code></pre>
<p>On the other hand, function calls without parens are always indented
by the function call length itself, like this:</p>
<pre><code class="nohighlight makeup elixir"><span class="n">some_call</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w">
          </span><span class="n">arg2</span><span class="p">,</span><span class="w">
          </span><span class="n">arg3</span></code></pre>
<p>If the last argument is a data structure, such as maps and lists, and
the beginning of the data structure fits on the same line as the function
call, then no indentation happens, this allows code like this:</p>
<pre><code class="nohighlight makeup elixir"><span class="nc">Enum</span><span class="o">.</span><span class="n">reduce</span><span class="p" data-group-id="9584710821-1">(</span><span class="n">some_collection</span><span class="p">,</span><span class="w"> </span><span class="n">initial_value</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="9584710821-2">fn</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="c1"># code</span><span class="w">
</span><span class="k" data-group-id="9584710821-2">end</span><span class="p" data-group-id="9584710821-1">)</span><span class="w">

</span><span class="n">some_function_without_parens</span><span class="w"> </span><span class="p" data-group-id="9584710821-3">%{</span><span class="w">
  </span><span class="ss">foo</span><span class="p">:</span><span class="w"> </span><span class="ss">:bar</span><span class="p">,</span><span class="w">
  </span><span class="ss">baz</span><span class="p">:</span><span class="w"> </span><span class="ss">:bat</span><span class="w">
</span><span class="p" data-group-id="9584710821-3">}</span></code></pre>
<h2 id="format_string!/2-code-comments" class="section-heading">
  <a href="#format_string!/2-code-comments" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Code comments
</h2>

<p>The formatter also handles code comments in a way to guarantee a space
is always added between the beginning of the comment (#) and the next
character.</p>
<p>The formatter also extracts all trailing comments to their previous line.
For example, the code below</p>
<pre><code class="nohighlight makeup elixir"><span class="n">hello</span><span class="w"> </span><span class="c1">#world</span></code></pre>
<p>will be rewritten to</p>
<pre><code class="nohighlight makeup elixir"><span class="c1"># world</span><span class="w">
</span><span class="n">hello</span></code></pre>
<p>Because code comments are handled apart from the code representation (AST),
there are some situations where code comments are seen as ambiguous by the
code formatter. For example, the comment in the anonymous function below</p>
<pre><code class="nohighlight makeup elixir"><span class="k" data-group-id="5296677591-1">fn</span><span class="w">
  </span><span class="n">arg1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">body1</span><span class="w">
    </span><span class="c1"># comment</span><span class="w">

  </span><span class="n">arg2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">body2</span><span class="w">
</span><span class="k" data-group-id="5296677591-1">end</span></code></pre>
<p>and in this one</p>
<pre><code class="nohighlight makeup elixir"><span class="k" data-group-id="1088683147-1">fn</span><span class="w">
  </span><span class="n">arg1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">body1</span><span class="w">

  </span><span class="c1"># comment</span><span class="w">
  </span><span class="n">arg2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">body2</span><span class="w">
</span><span class="k" data-group-id="1088683147-1">end</span></code></pre>
<p>are considered equivalent (the nesting is discarded alongside most of
user formatting). In such cases, the code formatter will always format to
the latter.</p>
  </section>
</div>
<div class="detail" id="get_docs/2">
    <div class="detail-header">
    <a href="#get_docs/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_docs(module, kind)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L1127" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>get_docs(<a href="typespecs.html#built-in-types">module</a>(), :moduledoc | :docs | :callback_docs | :type_docs | :all) ::
  nil</pre>
      </div>
  </div>
    <div class="deprecated">
      This function is deprecated. Code.get_docs/2 always returns nil as its outdated documentation is no longer stored on BEAM files. Use Code.fetch_docs/1 instead.
    </div>
  <section class="docstring">
<p>Deprecated function to retrieve old documentation format.</p>
<p>Elixir v1.7 adopts <a href="http://erlang.org/eep/eeps/eep-0048.html">EEP 48</a>
which is a new documentation format meant to be shared across all
BEAM languages. The old format, used by <a href="Code.html#get_docs/2"><code class="inline">Code.get_docs/2</code></a>, is no
longer available, and therefore this function always returns <code class="inline">nil</code>.
Use <a href="Code.html#fetch_docs/1"><code class="inline">Code.fetch_docs/1</code></a> instead.</p>
  </section>
</div>
<div class="detail" id="prepend_path/1">
    <div class="detail-header">
    <a href="#prepend_path/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">prepend_path(path)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L129" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>prepend_path(<a href="Path.html#t:t/0">Path.t</a>()) :: true | {:error, :bad_directory}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Prepends a path to the beginning of the Erlang VM code path list.</p>
<p>This is the list of directories the Erlang VM uses for finding
module code.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being prepended.
If this path does not exist, an error is returned.</p>
<h2 id="prepend_path/1-examples" class="section-heading">
  <a href="#prepend_path/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">prepend_path</span><span class="p" data-group-id="6701752059-1">(</span><span class="s">&quot;.&quot;</span><span class="p" data-group-id="6701752059-1">)</span><span class="w">
</span><span class="c1">#=&gt; true</span><span class="w">

</span><span class="nc">Code</span><span class="o">.</span><span class="n">prepend_path</span><span class="p" data-group-id="6701752059-2">(</span><span class="s">&quot;/does_not_exist&quot;</span><span class="p" data-group-id="6701752059-2">)</span><span class="w">
</span><span class="c1">#=&gt; {:error, :bad_directory}</span></code></pre>
  </section>
</div>
<div class="detail" id="purge_compiler_modules/0">
    <div class="detail-header">
    <a href="#purge_compiler_modules/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">purge_compiler_modules()</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L823" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.7.0)</span>
    
      <div class="specs">
          <pre>purge_compiler_modules() :: {:ok, <a href="typespecs.html#basic-types">non_neg_integer</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Purge compiler modules.</p>
<p>The compiler utilizes temporary modules to compile code. For example,
<code class="inline">elixir_compiler_1</code>, <code class="inline">elixir_compiler_2</code>, etc. In case the compiled code
stores references to anonymous functions or similar, the Elixir compiler
may be unable to reclaim those modules, keeping an unnecessary amount of
code in memory and eventually leading to modules such as <code class="inline">elixir_compiler_12345</code>.</p>
<p>This function purges all modules currently kept by the compiler, allowing
old compiler module names to be reused. If there are any processes running
any code from such modules, they will be terminated too.</p>
<p>It returns <code class="inline">{:ok, number_of_modules_purged}</code>.</p>
  </section>
</div>
<div class="detail" id="require_file/2">
  
    <span id="require_file/1"></span>
  <div class="detail-header">
    <a href="#require_file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">require_file(file, relative_to \\ nil)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L753" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>require_file(<a href="typespecs.html#built-in-types">binary</a>(), nil | <a href="typespecs.html#built-in-types">binary</a>()) :: [{<a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#built-in-types">binary</a>()}] | nil</pre>
      </div>
  </div>
  <section class="docstring">
<p>Requires the given <code class="inline">file</code>.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.
If the file was already required, <a href="#require_file/2"><code class="inline">require_file/2</code></a> doesn’t do anything and
returns <code class="inline">nil</code>.</p>
<p>Notice that if <a href="#require_file/2"><code class="inline">require_file/2</code></a> is invoked by different processes concurrently,
the first process to invoke <a href="#require_file/2"><code class="inline">require_file/2</code></a> acquires a lock and the remaining
ones will block until the file is available. This means that if <a href="#require_file/2"><code class="inline">require_file/2</code></a>
is called more than once with a given file, that file will be compiled only once.
The first process to call <a href="#require_file/2"><code class="inline">require_file/2</code></a> will get the list of loaded modules,
others will get <code class="inline">nil</code>.</p>
<p>See <a href="#compile_file/2"><code class="inline">compile_file/2</code></a> if you would like to compile a file without tracking its
filenames. Finally, if you would like to get the result of evaluating a file rather
than the modules defined in it, see <a href="#eval_file/2"><code class="inline">eval_file/2</code></a>.</p>
<h2 id="require_file/2-examples" class="section-heading">
  <a href="#require_file/2-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<p>If the file has not been required, it returns the list of modules:</p>
<pre><code class="nohighlight makeup elixir"><span class="n">modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Code</span><span class="o">.</span><span class="n">require_file</span><span class="p" data-group-id="6369906540-1">(</span><span class="s">&quot;eex_test.exs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;../eex/test&quot;</span><span class="p" data-group-id="6369906540-1">)</span><span class="w">
</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="6369906540-2">(</span><span class="n">modules</span><span class="p" data-group-id="6369906540-2">)</span><span class="w">
</span><span class="c1">#=&gt; {EExTest.Compiled, &lt;&lt;70, 79, 82, 49, ...&gt;&gt;}</span></code></pre>
<p>If the file has been required, it returns <code class="inline">nil</code>:</p>
<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">require_file</span><span class="p" data-group-id="2136477935-1">(</span><span class="s">&quot;eex_test.exs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;../eex/test&quot;</span><span class="p" data-group-id="2136477935-1">)</span><span class="w">
</span><span class="c1">#=&gt; nil</span></code></pre>
  </section>
</div>
<div class="detail" id="required_files/0">
    <div class="detail-header">
    <a href="#required_files/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">required_files()</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L45" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.7.0)</span>
    
      <div class="specs">
          <pre>required_files() :: [<a href="typespecs.html#built-in-types">binary</a>()]</pre>
      </div>
  </div>
  <section class="docstring">
<p>Lists all required files.</p>
<h2 id="required_files/0-examples" class="section-heading">
  <a href="#required_files/0-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="nc">Code</span><span class="o">.</span><span class="n">require_file</span><span class="p" data-group-id="7866734960-1">(</span><span class="s">&quot;../eex/test/eex_test.exs&quot;</span><span class="p" data-group-id="7866734960-1">)</span><span class="w">
</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="7866734960-2">(</span><span class="nc">Code</span><span class="o">.</span><span class="n">required_files</span><span class="p" data-group-id="7866734960-3">(</span><span class="p" data-group-id="7866734960-3">)</span><span class="p" data-group-id="7866734960-2">)</span><span class="w"> </span><span class="o">=~</span><span class="w"> </span><span class="s">&quot;eex_test.exs&quot;</span><span class="w">
</span><span class="c1">#=&gt; true</span></code></pre>
  </section>
</div>
<div class="detail" id="string_to_quoted/2">
  
    <span id="string_to_quoted/1"></span>
  <div class="detail-header">
    <a href="#string_to_quoted/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">string_to_quoted(string, opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L665" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>string_to_quoted(<a href="List.Chars.html#t:t/0">List.Chars.t</a>(), <a href="typespecs.html#built-in-types">keyword</a>()) ::
  {:ok, <a href="Macro.html#t:t/0">Macro.t</a>()} | {:error, {line :: <a href="typespecs.html#basic-types">pos_integer</a>(), <a href="typespecs.html#built-in-types">term</a>(), <a href="typespecs.html#built-in-types">term</a>()}}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Converts the given string to its quoted form.</p>
<p>Returns <code class="inline">{:ok, quoted_form}</code> if it succeeds,
<code class="inline">{:error, {line, error, token}}</code> otherwise.</p>
<h2 id="string_to_quoted/2-options" class="section-heading">
  <a href="#string_to_quoted/2-options" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Options
</h2>

<ul>
<li><p><code class="inline">:file</code> - the filename to be reported in case of parsing errors.
Defaults to “nofile”.</p>
</li>
<li><p><code class="inline">:line</code> - the starting line of the string being parsed.
Defaults to 1.</p>
</li>
<li><p><code class="inline">:columns</code> - when <code class="inline">true</code>, attach a <code class="inline">:column</code> key to the quoted
metadata. Defaults to <code class="inline">false</code>.</p>
</li>
<li><p><code class="inline">:existing_atoms_only</code> - when <code class="inline">true</code>, raises an error
when non-existing atoms are found by the tokenizer.
Defaults to <code class="inline">false</code>.</p>
</li>
<li><p><code class="inline">:warn_on_unnecessary_quotes</code> - when <code class="inline">false</code>, does not warn
when atoms, keywords or calls have unnecessary quotes on
them. Defaults to <code class="inline">true</code>.</p>
</li>
</ul>
<h2 id="string_to_quoted/2-macro-to_string-2" class="section-heading">
  <a href="#string_to_quoted/2-macro-to_string-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="Macro.html#to_string/2"><code class="inline">Macro.to_string/2</code></a>
</h2>

<p>The opposite of converting a string to its quoted form is
<a href="Macro.html#to_string/2"><code class="inline">Macro.to_string/2</code></a>, which converts a quoted form to a string/binary
representation.</p>
  </section>
</div>
<div class="detail" id="string_to_quoted!/2">
  
    <span id="string_to_quoted!/1"></span>
  <div class="detail-header">
    <a href="#string_to_quoted!/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">string_to_quoted!(string, opts \\ [])</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L689" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>string_to_quoted!(<a href="List.Chars.html#t:t/0">List.Chars.t</a>(), <a href="typespecs.html#built-in-types">keyword</a>()) :: <a href="Macro.html#t:t/0">Macro.t</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Converts the given string to its quoted form.</p>
<p>It returns the ast if it succeeds,
raises an exception otherwise. The exception is a <a href="TokenMissingError.html"><code class="inline">TokenMissingError</code></a>
in case a token is missing (usually because the expression is incomplete),
<a href="SyntaxError.html"><code class="inline">SyntaxError</code></a> otherwise.</p>
<p>Check <a href="#string_to_quoted/2"><code class="inline">string_to_quoted/2</code></a> for options information.</p>
  </section>
</div>
<div class="detail" id="unrequire_files/1">
    <div class="detail-header">
    <a href="#unrequire_files/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">unrequire_files(files)</span>
      <a href="https://github.com/elixir-lang/elixir/blob/28522ccb89ecc5e46c229ed620e7ef003ddebc9a/lib/elixir/lib/code.ex#L77" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
      <span class="note">(since 1.7.0)</span>
    
      <div class="specs">
          <pre>unrequire_files([<a href="typespecs.html#built-in-types">binary</a>()]) :: :ok</pre>
      </div>
  </div>
  <section class="docstring">
<p>Removes files from the required files list.</p>
<p>The modules defined in the file are not removed;
calling this function only removes them from the list,
allowing them to be required again.</p>
<h2 id="unrequire_files/1-examples" class="section-heading">
  <a href="#unrequire_files/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="c1"># Require EEx test code</span><span class="w">
</span><span class="nc">Code</span><span class="o">.</span><span class="n">require_file</span><span class="p" data-group-id="0561011394-1">(</span><span class="s">&quot;../eex/test/eex_test.exs&quot;</span><span class="p" data-group-id="0561011394-1">)</span><span class="w">

</span><span class="c1"># Now unrequire all files</span><span class="w">
</span><span class="nc">Code</span><span class="o">.</span><span class="n">unrequire_files</span><span class="p" data-group-id="0561011394-2">(</span><span class="nc">Code</span><span class="o">.</span><span class="n">required_files</span><span class="p" data-group-id="0561011394-3">(</span><span class="p" data-group-id="0561011394-3">)</span><span class="p" data-group-id="0561011394-2">)</span><span class="w">

</span><span class="c1"># Notice modules are still available</span><span class="w">
</span><span class="n">function_exported?</span><span class="p" data-group-id="0561011394-4">(</span><span class="nc">EExTest.Compiled</span><span class="p">,</span><span class="w"> </span><span class="ss">:before_compile</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="0561011394-4">)</span><span class="w">
</span><span class="c1">#=&gt; true</span></code></pre>
  </section>
</div>
          </div>
        </section>
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.19.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/html-2c36aea493b65986bbc5.js"></script>
  
  </body>
</html>

